@using System.Configuration
@using Signum.Web.Properties

@model TypeContext
           
@section head
{
    @Html.ScriptsJs(
            "~/signum/Scripts/SF_Globals.js",
            "~/signum/Scripts/SF_Popup.js",
            "~/signum/Scripts/SF_Lines.js",
            "~/signum/Scripts/SF_ViewNavigator.js",
            "~/signum/Scripts/SF_FindNavigator.js",
            "~/signum/Scripts/SF_Validator.js",
            "~/signum/Scripts/SF_Operations.js")
}

@using (Html.BeginForm())
{
    var ident = Model.UntypedValue as IdentifiableEntity;
    
    <div id="divNormalControl" @Html.Raw(ident != null? "data-isnew=\""+ident.IsNew.ToString().ToLower() +  "\"" : "")>
      @if(string.IsNullOrEmpty(ViewBag.Title))
        {
            ViewBag.Title = Model.UntypedValue.TryToString();
        }
     
        @if(string.IsNullOrEmpty(ViewBag.Title))
        {
            ViewBag.Title = Model.UntypedValue.TryToString();
        }
        @{ Html.RenderPartial(Navigator.Manager.NormalControlUrl);}
    </div>
    
    <div class="clear"></div>   
}